{% extends "base.html" %}
{% load getattribute %}

{% block headextra %}
<script type="text/javascript">
	$(document).ready(function() {
		$('#grads').dataTable({
			"bJQueryUI" : true,
			"aaSorting" : [[4, "desc"]],
			"iDisplayLength" : 50,
			"sPaginationType" : "full_numbers",
		});
	});

</script>
{% endblock %}

{% block actions %}
{% endblock %}

{% block subbreadcrumbs %}
<li>
	&gt; <a href="{% url grad.views.index %}">Grad</a>
</li>
<li>
	&gt; <a href="{% url grad.views.search %}">Search</a>
</li>
<li>
	&gt; Search Results
</li>
{% endblock %}

{% block content %}
<div class="datatable_container">
	<table class="display" id="grads">
		<thead>
			<tr>
            {% for c in columns %}
                <th>{{ c }}</th>
            {% endfor %}
				<th>Manage</th>
			</tr>
		</thead>
		<tbody>
			{% for s in grads %}
            <tr>
            {% for c in columns %}
                <td>{{s|getattribute:c}}</td>
            {% endfor %}
                <td><a href="{% url grad.views.view_all grad_slug=s.slug %}"> View </a></td>
            </tr>
			{%empty%}
			<tr>
				<td>
				<p class="empty">
					There are currently no grad student records stored in the database.
				</p></td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %} 