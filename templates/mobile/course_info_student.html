{% extends "mobile/base.html" %}
{% load mobile_tags %}

{% block title %}{{course.subject}} {{course.number}} {{course.section}}{% endblock %}
{% block h1 %}{{course.subject}} {{course.number}} {{course.section}}{% endblock %}
{% block content%}

<a class="back" href="{% url "mobile.views.index" %}">back</a>

<div>
    <table class="info">
        <tbody>
            <tr>
                <th scope="row">Title</th>
                <td>{{ course.title }}</td>
            </tr>
            <tr>
                <th scope="row">Instructor(s)</th>
                <td>{% for instructor in course.instructors %}
                    {{ instructor.name }} (<a href="mailto:{{ instructor.email }}">{{ instructor.email }}</a>){% if not forloop.first %},{% endif %}
                    {% endfor %}</td>
            </tr>
            <tr>
                <th scope="row">TA(s)</th>
                <td>{% for ta in course.tas %}
                    {{ ta.name }} (<a href="mailto:{{ ta.email }}">{{ ta.email }}</a>){% if not forloop.last %},{% endif %}
                    {% endfor %}</td>
            </tr>
        </tbody>
    </table>
</div>


<div class="datatable_container">

    <h2>Course Activities</h2>
    {% for activity_info in activities_info %}
        {% with activity_info.activity as activity %}
            <a href="{% url "mobile.views.activity_info" course_slug=course.slug activity_slug=activity.slug %}">{{ activity.name }}</a>
            <ul>
                <li>
                    Status: {{ activity.get_status_display }}
                </li>
                {% if activity.due_date %}
                <li>
                    Due Date: {{ activity.due_date }}
                </li>
                {% endif %}
                {% if activity.submitable %}
                <li>
                    Submitted: {{ activity_info.submitted }}
                </li>
                {% endif %}
                <li>
                    Grade:{{ activity_info.grade }}
                </li>

            </ul>
        {% endwith %}
    {% endfor %}
</div>
<a class="back" href="{% url "mobile.views.index" %}">back</a>
{% endblock %}

