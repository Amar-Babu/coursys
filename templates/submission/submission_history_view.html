{% extends "base.html" %}
{% load submission_filters %}

{% block title %}Submission History for {{activity.name}}{% endblock %}
{% block h1 %}Submission History for {{activity.name}}{% endblock %}

{% block subbreadcrumbs %}<li><a href="{% url "grades.views.course_info" course_slug=course.slug %}">{{course.name}}</a></li><li><a href="{% url "grades.views.activity_info" course_slug=course.slug activity_slug=activity.slug %}">{{activity.name}}</a></li><li><a href="{% url "submission.views.show_components" course_slug=course.slug activity_slug=activity.slug %}">Submission</a></li><li>History</li>{% endblock %}


{% block content %}

<div id="submission_history_view_container">
    {% for submission in submitted_components %}
    <div class="submitter">
         <img src="{{STATIC_URL}}icons/tag_red.png" alt="submission" />
        {{submission.sub.created_at|date:"Y-m-d H:i:s"}} {%if activity.group%} by {{submission.sub.creator.person.name}}{%endif%}
    </div>
        <table>
        <tbody>
            <tr>
                <th>Component</th>
                <th>Download</th>
                <th>Size</th>
            </tr>
        {% for comp in submission.comp %}
            <tr class="{% if forloop.counter0|divisibleby:2 %}row1{%else%}row2{%endif%}">
                <td>{{comp.0.title}}</td>
                <td>
                    {% if comp.1 %}
                        <img src="{{STATIC_URL}}icons/attach.png" alt="download" /><a href="{% url "submission.views.download_file" course_slug=course.slug activity_slug=activity.slug component_slug=comp.0.slug submission_id=submission.sub.id %}">Download File</a>
                    {% else %}
                        &mdash;
                    {% endif %}
                </td>
                <td>
                    {% if comp.1.get_size %}
                        {{comp.1.get_size|filesizeformat}}
                    {% else %}
                        &mdash;
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
    {% endfor %}
</div>



{% endblock %}

