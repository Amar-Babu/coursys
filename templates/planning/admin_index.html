{% extends "base.html" %}

{% load markup %}

{% block headextra %}
<script type="text/javascript">
$(document).ready(function() {
  $('#plans').dataTable( {
    'bPaginate': true,
    'bInfo': false,
    'bLengthChange': true,
    "bJQueryUI": true,
	"sPaginationType": "full_numbers",
	"iDisplayLength" : 10
  } );
} );
</script>
{% endblock %}

{% block title %}Manage Course Plans{% endblock %}
{% block h1 %}Manage Course Plans{% endblock %}

{% block subbreadcrumbs %}&gt; Admin Course Planning</li>{% endblock %}

{% block actions %}
<div id="actions">
    <h2 class="heading">Actions</h2>
    <ul>
    	<li><a href="{% url planning.views.add_plan userid=userid %}">Create a Course Plan</a></li>
		<li><a href="{% url planning.views.add_course userid=userid %}">Manage Courses</a></li>
	    
    </ul>
</div>
{% endblock %}



{% block content %}

<div class="datatable_container">
    <h2>Course Plans</h2>
    <table class="display" id="plans">
        <thead>
            <tr>
                <th scope="col">Plan Name</th>
                <th scope="col">Semester</th>
                <th scope="col">Edit Courses</th>
                <th scope="col">Assign Instructors</th>
                <th scope="col">Visibility</th>
                <th scope="col">Option</th>

            </tr>
        </thead>

        <tbody>
		{% for plan in plan_list %}

		<tr>
			<td>{{ plan.name }} (<a href="{% url planning.views.edit_plan userid=userid plan_id=plan.id %}">edit</a>)</td>
			<td>{{ plan.semester.label }}</td>
			<td><a href="{% url planning.views.edit_courses userid=userid plan_id=plan.id %}">Edit Courses</a></td>
			<td><a href="{% url planning.views.assign_instructors userid=userid plan_id=plan.id %}">Assign Instructors</a></td>
			<td>{{ plan.get_visibility_display }}</td>
			<td>
				{% if plan.active %}
					<a href="{% url planning.views.inactivate_plan plan_id=plan.id %}">Inactivate</a>
				{% else %}
					<a href="{% url planning.views.activate_plan plan_id=plan.id %}">Activate</a>
				{% endif %}
			</td>
		
		{%endfor%}

        </tbody>
    </table>
</div>

{% endblock content %}
