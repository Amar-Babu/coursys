{% extends "base.html" %}
{% load grade_student %}
{% load form_display %}

{% load markup %}

{% block title %}Assign Instructors{% endblock %}
{% block h1 %}Assign Instructors{% endblock %}

{% block subbreadcrumbs %}<li>&gt; <a href="{% url planning.views.admin_index %}">Course Planning</a></li><li>&gt; <a href="{% url planning.views.assign_instructors semester=semester_plan.semester.name plan_slug=semester_plan.slug %}">{{ semester_plan.name }} in {{semester_plan.semester.label}}</a></li><li>&gt; Assign Instructors</li>{% endblock %}

{% block actions %}
{% endblock %}

{% block headextra %}
<script type="text/javascript">
$(document).ready(function() {
  $('#courses').dataTable( {
    'bPaginate': true,
    'bInfo': true,
    'bLengthChange': true,
    "bJQueryUI": true,
	"sPaginationType": "full_numbers",
	"iDisplayLength" : 50
  } );
} );
</script>
{% endblock %}

{% block content %}

<div class="datatable_container">
	
	
    <h2>{{ semester_plan.semester.label }} </br> {{ semester_plan.name }} </br> {{ course_info.course }} {{ course_info.section }} </h2>
	
	<h3> Current Assigned Instructor: {{ course_info.instructor }} </h3>
	
	<div id="form_container">
	    <form action="{% url planning.views.submit_assigned_instructors semester=semester_plan.semester.name plan_slug=semester_plan.slug offering_id=course_info.id %}" method="post">{% csrf_token %}
	        <fieldset style="padding-left:20px">
	            <legend>Capable Instructors</legend>
				{% for data in instructors %}
					
					<dl>
					<dt><input type="radio" name="instructor" value="{{data.instructor.instructor.userid}}" /></dt>
					<dt>Instructor:</dt>
						<dd>{{data.instructor.instructor}}</dd>
					<dt>Currently Assigned Courses:</dt>
						<dd>{% if data.current_courses %}
								{% for i in data.current_courses %}
								{{i.course}}
								</br>
								{% endfor %}
							{% else %}
								None
							{% endif %}
						</dd>
					<dt>Capable Courses:</dt>
						<dd>{% for i in data.teachable %}
								{{i.course}}
								{% if i.note %}
									( Note: {{i.note}} )
								{% endif %}
								</br>
							{% endfor %}
						</dd>
					<dt>Teaching Intentions:</dt>
						<dd>{% for i in data.intention %}
								{{i.semester}}:
								{{i.count}}
								{% if i.note %}
									( Note: {{i.note}} )
								{% endif %}
								</br>
							{% endfor %}							
						</dd>
					
				{% endfor %}
				{% if course_info.instructor %}
					<dt><input type="radio" name="instructor" value="None" /></dt>
					<dt>Clear Assigned Instructor</dt>
				{% endif %}
				</dl>
	            <div><input class="submit" type="submit" value="Assign" /></div>

	        </fieldset>
	    </form>

	</div>

</div>


{% endblock%}


