{% extends "base.html" %}
{% load grade_student %}
{% load form_display %}

{% load markup %}

{% block title %}Assign Instructors{% endblock %}
{% block h1 %}Assign Instructors{% endblock %}

{% block subbreadcrumbs %}<li>&gt; <a href="{% url planning.views.admin_index %}">Course Planning</a></li><li>&gt; {{ semester_plan.name }} in {{semester_plan.semester.label}}</li><li>&gt; Assign Instructors</li>{% endblock %}

{% block actions %}
{% endblock %}

{% block headextra %}
<script type="text/javascript">
$(document).ready(function() {
  $('#courses').dataTable( {
    'bPaginate': true,
    'bInfo': true,
    'bLengthChange': true,
    "bJQueryUI": true,
	"sPaginationType": "full_numbers",
	"iDisplayLength" : 50
  } );
} );
</script>
{% endblock %}

{% block content %}

<div class="datatable_container">
	
	
    <h2>{{ semester_plan.semester.label }} </br> {{ semester_plan.name }} </br> {{ course_info.course }} {{ course_info.section }} </h2>
	
	<h3> Current Assigned Instructor: {{ course_info.instructor }} </h3>
	
	<div id="form_container">
	    <form action="{% url planning.views.submit_assigned_instructors semester=semester_plan.semester.name plan_slug=semester_plan.slug offering_id=course_info.id %}" method="post">{% csrf_token %}
	        <fieldset>
	            <legend>Capable Instructors</legend>
				{% for data in instructors %}
					<p><input type="radio" name="instructor" value="{{data.instructor.instructor.userid}}" />
					</br><b>Instructor:</b> 
					{{data.instructor.instructor}}
					</br><b>Current Assigned Courses:</b>
					{% if data.current_courses %}
						{% for i in data.current_courses %}
							</br>
							{{i.course}}
						{% endfor %}
					{% else %}
						</br>
						None
					{% endif %}					
					</br>
					<b>Capable Courses:</b> 
					{% for i in data.teachable %}
						</br>
						{{i.course}}
						{% if i.note %}
							( Note: {{i.note}} )
						{% endif %}
					{% endfor %}
					</br>
					<b>Teaching Intentions:</b> 
					{% for i in data.intention %}
						</br>
						{{i.semester}}:
						{{i.count}}
						{% if i.note %}
							( Note: {{i.note}} )
						{% endif %}
					{% endfor %}
					</p>
				{% endfor %}
				{% if course_info.instructor %}
					<p><input type="radio" name="instructor" value="None" />
					</br>
					<b>Clear Assigned Instructor</b>
					</p>
				{% endif %}
	            <div><input class="submit" type="submit" value="Assign" /></div>

	        </fieldset>
	    </form>

	</div>

</div>


{% endblock%}


