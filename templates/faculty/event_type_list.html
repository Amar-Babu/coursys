{% extends "base.html" %}
{% load event_display %}
{% block title %}{{ person.name }}: New Event{% endblock %}
{% block h1 %}{{ person.name }}: New Event{% endblock %}

{% block headextra %}
<script type="text/javascript">
/*
$(document).ready(function() {
  $('#event_type_table').dataTable( {
    'bPaginate': false,
    'bInfo': false,
    "bJQueryUI": true,
  } );
} );
*/
</script>
{% endblock %}
{% block subbreadcrumbs %}
<li><a href="{% url "faculty.views.index" %}">Faculty</a></li>
<li><a href="{% url "faculty.views.summary" userid=person.userid_or_emplid %}">{{ person.name }}</a></li>
<li>New Event</li>
{% endblock %}

{% block content %}
<div class="datatable_container">
<table id="event_type_table" class="display">
  <thead><tr>
    <th scope="col">Event Type</th>
    <th scope="col">Instantaneous</th>
    <th scope="col">Affects Teaching</th>
    <th scope="col">Affects Salary</th>
  </tr></thead>
  <tbody>
  {% for type in event_types %}
  {% can_edit_handler type.slug editor person as editable %}
  {% if editable %}
  <tr>
    <td><a href="{% url 'faculty_create_event' userid=person.userid_or_emplid event_type=type.slug %}">{{ type.name }}</a></td>
    <td>{{ type.is_instant|yesno }}</td>
    <td>{{ type.affects_teaching|yesno }}</td>
    <td>{{ type.affects_salary|yesno }}</td>
  </tr>
  {% endif %}
  {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
